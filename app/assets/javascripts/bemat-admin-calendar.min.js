$(function(){"use strict";var e=function(){var e=this;$(document).ready(function(){e.init()})},a=e.prototype;a.init=function(){t.init()};$("body"),$(document),$(window);$.page=$("#page-wrapper"),$.sidebar=$("#left-content"),$.sidebarToggle=$("#sidebar-toggle"),$.mainContent=$("#right-content"),$.calendar=$("#bemat-calendar");var t={init:function(){var e=$(".page-header.alternative-header"),a=$('<div class="calendar-bg-overlay"></div>');$.calendar.fullCalendar({viewRender:function(e){t.update()},header:{left:"",center:"prev, title, next",right:"today,month,basicWeek,basicDay"},editable:!0,eventLimit:!0,droppable:!0,drop:function(){$("#drop-remove").is(":checked")&&$(this).remove()}}),$("#external-events .fc-event").each(function(){$(this).data("event",{title:$.trim($(this).text()),stick:!0}),$(this).draggable({zIndex:999,revert:!0,revertDuration:400})}),e.append(a)},update:function(){var e=$.calendar.fullCalendar("getDate"),a=e._i[1],t=($(".page-header.alternative-header"),"img/bgs/calendar/"+a+".jpg"),n={"background-image":"url("+t+")","background-size":"cover","background-position":"center"};if($.calendar.data("month")!=a){$.calendar.data("month",a);setTimeout(function(){var e=$(".page-header.alternative-header"),a={opacity:"1"},t={opacity:"0.4"},i=$(".calendar-bg-overlay");i.animate(a,"400",function(){e.css(n),i.animate(t,"400")})},0)}}};window.bematadmin.Calendar=new e}(jQuery));